(this["webpackJsonpticket-master"]=this["webpackJsonpticket-master"]||[]).push([[0],{110:function(e,t,a){e.exports=a(139)},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),c=a(55),i=a(96),s=a(78),m=[];function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(s.a)({},t.payload);case"REMOVE_USER":return m;default:return Object(s.a)({},e)}}var d=a(22),p=[];function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CUSTOMERS":return Object(d.a)(t.payload);case"ADD_CUSTOMER":return e.concat(t.payload);case"REMOVE_CUSTOMER":return e.filter((function(e){return e._id!==t.payload}));default:return Object(d.a)(e)}}var E=[];function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DEPARTMENT":return e.concat(t.payload);case"GET_DEPARTMENTS":return t.payload;case"REMOVE_DEPARTMENT":return e.filter((function(e){return e._id!==t.payload}));default:return Object(d.a)(e)}}var g=[];function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EMPLOYEE":return e.concat(t.payload);case"REMOVE_EMPLOYEE":return e.filter((function(e){return e._id!==t.payload}));case"EDIT_EMPLOYEE":return e.map((function(e){return e._id===t.payload.id?Object.assign({},e,t.payload.data):Object.assign({},e)}));case"GET_EMPLOYEES":return t.payload;default:return Object(d.a)(e)}}var v=[];function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TICKET":return e.concat(t.payload);case"REMOVE_TICKET":return e.filter((function(e){return e._id!==t.payload}));case"EDIT_TICKET":return e.map((function(e){return e._id===t.payload.id?Object.assign({},e,t.payload.data):Object.assign({},e)}));case"EDIT_TICKET_CHECKBOX":return e.map((function(e){return e._id===t.payload?Object.assign({},e,{isResolved:!e.isResolved}):Object.assign({},e)}));case"GET_TICKET":return t.payload;default:return Object(d.a)(e)}}var k=function(){return Object(c.d)(Object(c.c)({users:u,customers:h,departments:f,employees:b,tickets:y}),Object(c.a)(i.a))},C=a(11),w=a(45);var O=function(){return r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("h1",null,"Welcome to Ticket Master App"),r.a.createElement("img",{src:"https://www.dicsinnovatives.com/wp-content/uploads/2018/09/software-engineer.png",width:800,height:400,alt:"loading"}))},j=a(6),_=a(12),S=a(10),D=a(13),x=a(14),T=a(15),R=a(8),M=a(98),P=a.n(M).a.create({baseURL:"https://dct-ticket-master.herokuapp.com"}),I=a(18),A=a.n(I),N=function(){return{type:"REMOVE_USER"}},B=function(e){return{type:"SET_USER",payload:e}},Y=a(140),L=a(174),F=a(173),V=a(170),W=a(191),H=a(172),U=a(59),G=a.n(U),K=a(60),q=a.n(K),J=a(171),X=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(D.a)(this,Object(x.a)(t).call(this))).handleChange=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.handleClickShowPassword=function(t){e.setState({showpassword:!e.state.showpassword})},e.handleMouseDownPassword=function(e){e.preventDefault()},e.hanldeSubmit=function(t){if(t.preventDefault(),0!==e.state.email){var a={email:e.state.email,password:e.state.password};e.props.dispatch(function(e,t){return function(a){P.post("/users/login",e).then((function(e){e.data.hasOwnProperty("error")?A.a.fire({icon:"error",title:"Oops...",text:e.data.error}):(localStorage.setItem("authToken",e.data.token),P.get("/users/account",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){var n=e.data;A.a.fire({icon:"success",title:"Sucessfully Logged in",showConfirmButton:!1,timer:1500}),a(B(n)),t()})))}))}}(a,(function(){return e.props.history.push("/")})))}},e.state={email:"",password:"",showpassword:!1},e}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"h4"},"Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement(V.a,{variant:"filled"},r.a.createElement(W.a,{htmlFor:"component-email-outlined"},"Email"),r.a.createElement(J.a,{style:{width:250},id:"component-email-outlined",type:"text",name:"email",value:this.state.email,onChange:this.handleChange})," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V.a,{variant:"filled"},r.a.createElement(W.a,{htmlFor:"component-email-outlined"},"Password"),r.a.createElement(J.a,{id:"component-email-outlined",style:{width:250},type:this.state.showpassword?"text":"password",name:"password",value:this.state.password,onChange:this.handleChange,endAdornment:r.a.createElement(H.a,{position:"end"},r.a.createElement(F.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword},this.state.showpassword?r.a.createElement(G.a,null):r.a.createElement(q.a,null)))})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"contained",color:"default",onClick:this.hanldeSubmit},"LOGIN")))}}]),t}(n.Component),z=Object(R.b)((function(e){return{users:e.users}}))(X),Q=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(D.a)(this,Object(x.a)(t).call(this))).handleChange=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.handleClickShowPassword=function(t){e.setState({showpassword:!e.state.showpassword})},e.handleMouseDownPassword=function(e){e.preventDefault()},e.handleSubmit=function(t){if(t.preventDefault(),e.state.password===e.state.confirmPassword){var a={username:e.state.username,email:e.state.email,password:e.state.password};e.props.dispatch(function(e,t){return function(a){P.post("/users/register",e).then((function(e){console.log(e.data),e.data.hasOwnProperty("errors")?A.a.fire({icon:"error",title:"Oops...",text:e.data.message}):(A.a.fire({icon:"success",title:"Sucessfully Registered,Now You can Log in",showConfirmButton:!1,timer:2e3}),t())}))}}(a,(function(){return e.props.history.push("/users/login")})))}else A.a.fire({icon:"error",title:"Your passwords donot match"})},e.state={username:"",email:"",password:"",confirmPassword:"",showpassword:!1},e}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"h4"},"Register"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement(V.a,{variant:"filled"},r.a.createElement(W.a,{htmlFor:"component-name-outlined"},"Username"),r.a.createElement(J.a,{style:{width:250},id:"component-name-outlined",type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V.a,{variant:"filled"},r.a.createElement(W.a,{htmlFor:"component-email-outlined"},"Email"),r.a.createElement(J.a,{style:{width:250},id:"component-email-outlined",type:"text",name:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V.a,{variant:"filled"},r.a.createElement(W.a,{htmlFor:"component-email-outlined"},"Password"),r.a.createElement(J.a,{id:"component-email-outlined",style:{width:250},type:this.state.showpassword?"text":"password",name:"password",value:this.state.password,onChange:this.handleChange,endAdornment:r.a.createElement(H.a,{position:"end"},r.a.createElement(F.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword},this.state.showpassword?r.a.createElement(G.a,null):r.a.createElement(q.a,null)))})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V.a,{variant:"filled"},r.a.createElement(W.a,{htmlFor:"component-email-outlined"},"Confirm Password"),r.a.createElement(J.a,{id:"component-email-outlined",style:{width:250},type:this.state.showpassword?"text":"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange,endAdornment:r.a.createElement(H.a,{position:"end"},r.a.createElement(F.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword},this.state.showpassword?r.a.createElement(G.a,null):r.a.createElement(q.a,null)))})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{onClick:this.handleSubmit,variant:"contained"},"REGISTER")))}}]),t}(n.Component),Z=Object(R.b)((function(e){return{users:e.users}}))(Q),$=a(186),ee=a(187),te=a(188),ae=a(175),ne=a(179),re=a(178),le=a(176),oe=a(177),ce=function(){return function(e){P.get("/customers",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var a=t.data;console.log(a),e(ie(a))}))}},ie=function(e){return{type:"GET_CUSTOMERS",payload:e}},se=function(e){return{type:"REMOVE_CUSTOMER",payload:e}},me=function(e){return{type:"ADD_CUSTOMER",payload:e}};var ue=Object(R.b)((function(e){return{customers:e.customers}}))((function(e){e.dispatch(ce());var t=function(t){A.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&(e.dispatch(function(e){return function(t){P.delete("/customers/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(a){var n=a.data;t(se(e)),console.log(n)}))}}(t))&&window.location.reload(!1),A.a.fire("Deleted!","Your file has been deleted.","success"))}))};return r.a.createElement("div",{align:"center"},r.a.createElement("h1",null,"Customers - ",e.customers.length),r.a.createElement(ae.a,{style:{width:500}},r.a.createElement(le.a,null,r.a.createElement(oe.a,null,r.a.createElement(re.a,null,"ID"),r.a.createElement(re.a,{align:"left"},"Name"),r.a.createElement(re.a,{align:"left"},"Email"),r.a.createElement(re.a,{align:"left"},"Mobile"),r.a.createElement(re.a,{align:"left"},"Actions"),r.a.createElement(re.a,{align:"left"},"Remove"))),r.a.createElement(ne.a,null,e.customers.map((function(e,a){return r.a.createElement(oe.a,{key:e._id},r.a.createElement(re.a,{component:"th",scope:"row"},a),r.a.createElement(re.a,{align:"left"},e.name),r.a.createElement(re.a,{align:"left"},e.email),r.a.createElement(re.a,{align:"left"},e.mobile),r.a.createElement(re.a,{align:"left"},r.a.createElement(C.b,{to:"/users/customers/show/".concat(e._id),style:{textDecoration:"none"}},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Show"))),r.a.createElement(re.a,{align:"left"},r.a.createElement(L.a,{variant:"contained",color:"secondary",onClick:function(){return t(e._id)}},"Remove")))})))),r.a.createElement("br",null),r.a.createElement(C.b,{to:"/users/customers/new",style:{textDecoration:"none"}},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Add Customer")))})),de=a(192),pe=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(D.a)(this,Object(x.a)(t).call(this,e))).handleClick=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,mobile:a.state.mobile};console.log(t);a.props.dispatch(function(e,t){return function(a){P.post("/customers",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){var n=e.data;n.hasOwnProperty("errors")?alert(n._message):(a(me(n)),t())}))}}(t,(function(){return a.props.history.push("/users/customers")})))},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.state={name:"",email:"",mobile:""},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"h4"},"Add User"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement(de.a,{type:"text",label:"Name",variant:"filled",name:"name",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",label:"Email",variant:"filled",name:"email",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",label:"Mobile",variant:"filled",name:"mobile",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"contained",onClick:this.handleClick},"Submit")))}}]),t}(n.Component),he=Object(R.b)((function(e){return{customers:e.customers}}))(pe),Ee=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(D.a)(this,Object(x.a)(t).call(this,e))).handleClick=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,mobile:a.state.mobile};a.props.dispatch(function(e,t,a){return function(n){P.put("/customers/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){console.log(e.data),a()}))}}(t,a.props.match.params.id,(function(){return a.props.history.push("/users/customers")})))},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.state={name:"",email:"",mobile:"",num:0},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({name:e.props.customers.name,email:e.props.customers.email,mobile:e.props.customers.mobile})}),700)}},{key:"render",value:function(){return console.log(this.props.customers,"this is customer"),r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"h4"},"Add User"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement(de.a,{type:"text",label:"Name",value:this.state.name,variant:"filled",name:"name",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",label:"Email",value:this.state.email,variant:"filled",name:"email",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",label:"Mobile",value:this.state.mobile,variant:"filled",name:"mobile",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"contained",onClick:this.handleClick},"Submit")))}}]),t}(n.Component),fe=Object(R.b)((function(e,t){var a=t.match.params.id;return console.log(a),{customers:e.customers.find((function(e){return String(e._id)===String(a)}))}}))(Ee),ge=a(181),be=a(100),ve=function(){return function(e){P.get("/departments",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var a=t.data;e(ye(a))}))}},ye=function(e){return{type:"GET_DEPARTMENTS",payload:e}},ke=function(e){return{type:"REMOVE_DEPARTMENT",payload:e}},Ce=function(e){return{type:"ADD_DEPARTMENT",payload:e}},we=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(D.a)(this,Object(x.a)(t).call(this))).handleClick=function(t){t.preventDefault();var a={name:e.state.name};e.props.dispatch(function(e){return function(t){P.post("/departments",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(a){console.log(a.data),t(Ce(e))}))}}(a))},e.handleRemove=function(t){A.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&(e.props.dispatch(function(e){return function(t){P.delete("/departments/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(a){console.log(a.data),a.data.hasOwnProperty("name")?t(ke(e)):alert("failed to delete the record please check your internet connection")}))}}(t))&&window.location.reload(!1),A.a.fire("Deleted!","Your file has been deleted.","success"))}))},e.handleChange=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.state={name:""},e}return Object(T.a)(t,e),Object(S.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(ve())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{align:"center"},r.a.createElement("h1",null,"Departments-",this.props.departments.length),r.a.createElement(ge.a,{component:be.a},r.a.createElement(ae.a,{style:{width:600}},r.a.createElement(le.a,null,r.a.createElement(oe.a,null,r.a.createElement(re.a,null,"Departments"),r.a.createElement(re.a,{align:"left"},"Action"),r.a.createElement(re.a,{align:"left"},"Remove"))),r.a.createElement(ne.a,null,this.props.departments.map((function(t){return r.a.createElement(oe.a,{key:t.name},r.a.createElement(re.a,{component:"th",scope:"row"},t.name),r.a.createElement(re.a,{align:"left"},r.a.createElement(C.b,{to:"/users/departments/".concat(t._id),style:{textDecoration:"none"}},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Show"))),r.a.createElement(re.a,{align:"left"},r.a.createElement(L.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleRemove(t._id)}},"Remove")))}))))),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleClick},r.a.createElement(de.a,{type:"text",label:"Add Department",value:this.state.name,variant:"filled",name:"name",onChange:this.handleChange,style:{height:30}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{type:"submit",value:"ADD",color:"primary"})))}}]),t}(n.Component),Oe=Object(R.b)((function(e){return{departments:e.departments}}))(we),je=function(){return function(e){P.get("/employees",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var a=t.data;e(_e(a))}))}},_e=function(e){return{type:"GET_EMPLOYEES",payload:e}},Se=function(e){return function(t){P.delete("/employees/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(a){console.log(a.data),a.data.hasOwnProperty("name")?t(De(e)):alert("failed to delete the record please check your internet connection")}))}},De=function(e){return{type:"REMOVE_EMPLOYEE",payload:e}},xe=function(e){return{type:"ADD_EMPLOYEE",payload:e}},Te=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(D.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).handleRemove=function(e){A.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&(a.props.dispatch(Se(e))&&window.location.reload(!1),A.a.fire("Deleted!","Your file has been deleted.","success"))}))},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(je())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{align:"center"},r.a.createElement("h1",null,"Employees-",this.props.employees.length),r.a.createElement(ge.a,{component:be.a},r.a.createElement(ae.a,{style:{width:900}},r.a.createElement(le.a,null,r.a.createElement(oe.a,null,r.a.createElement(re.a,null,"#"),r.a.createElement(re.a,null,"Name"),r.a.createElement(re.a,{align:"left"},"Email"),r.a.createElement(re.a,{align:"left"},"Mobile"),r.a.createElement(re.a,{align:"left"},"Department"),r.a.createElement(re.a,{align:"left"},"Action"),r.a.createElement(re.a,{align:"left"},"Remove"))),r.a.createElement(ne.a,null,this.props.employees.map((function(t,a){return r.a.createElement(oe.a,{key:t.name},r.a.createElement(re.a,{component:"th",scope:"row"},a+1),r.a.createElement(re.a,{align:"left"},t.name),r.a.createElement(re.a,{align:"left"},t.email),r.a.createElement(re.a,{align:"left"},t.mobile),r.a.createElement(re.a,{align:"left"},t.department.name),r.a.createElement(re.a,{align:"left"},r.a.createElement(C.b,{to:"/users/employees/show/".concat(t._id),style:{textDecoration:"none"}},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Show"))),r.a.createElement(re.a,{align:"left"},r.a.createElement(L.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleRemove(t._id)}},"Remove")))}))))),r.a.createElement("br",null),r.a.createElement(C.b,{to:"/users/employees/new",style:{textDecoration:"none"}},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Add Employee")))}}]),t}(n.Component),Re=Object(R.b)((function(e){return{employees:e.employees}}))(Te),Me=a(34),Pe=a(190),Ie=a(184),Ae=a(182),Ne=a(183);var Be=function(e){return r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),e.tickets.map((function(e,t){return r.a.createElement("div",{key:e._id},r.a.createElement(Ae.a,{style:{width:500,background:e.isResolved?"green":"#d92626",color:"white"}},r.a.createElement(Ne.a,null,r.a.createElement(Y.a,{variant:"body2",component:"p",align:"left"},"Code:",e.code,r.a.createElement("br",null),"Message:",e.message,r.a.createElement("br",null),"Employees:",e.employees.map((function(e){return r.a.createElement("li",{key:e},e)})),"Customer:",e.customer,r.a.createElement("br",null),"Department:",e.department,r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement("br",null),r.a.createElement("br",null))})))};var Ye=Object(R.b)((function(e,t){var a=t.match.params.id;return{cust:e.customers.find((function(e){return e._id===a})),customers:e.customers,tickets:e.tickets,employees:e.employees,departments:e.departments}}))((function(e){var t=r.a.useState(0),a=Object(Me.a)(t,2),n=a[0],l=a[1],o=0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length?e.tickets.map((function(t){return{_id:t._id,code:t.code,isResolved:t.isResolved,message:t.message,employees:t.employees.map((function(t){return e.employees.find((function(e){return e._id===t._id})).name})),department:e.departments.find((function(e){return e._id===t.department})).name,customer:e.customers.find((function(e){return e._id===t.customer})).name}})):"";return r.a.createElement("div",{align:"center"},r.a.createElement("div",null,r.a.createElement("h1",null,void 0!==e.cust&&e.cust.email),r.a.createElement(C.b,{to:"/users/customers/edit/".concat(e.match.params.id),style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"primary",variant:"contained"},"Edit")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(be.a,{square:!0},r.a.createElement(Pe.a,{onChange:function(e,t){l(t),console.log(n)},indicatorColor:"primary",textColor:"primary",value:n,centered:!0},r.a.createElement(Ie.a,{label:"All"}),r.a.createElement(Ie.a,{label:"Pending"}),r.a.createElement(Ie.a,{label:"Completed"}))),0===Number(n)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&r.a.createElement(Be,{tickets:o.filter((function(t){return t.customer===e.customers.find((function(t){return t._id===e.match.params.id})).name}))}),1===Number(n)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&r.a.createElement(Be,{tickets:o.filter((function(t){return t.customer===e.customers.find((function(t){return t._id===e.match.params.id})).name})).filter((function(e){return!0!==e.isResolved}))}),2===Number(n)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&r.a.createElement(Be,{tickets:o.filter((function(t){return t.customer===e.customers.find((function(t){return t._id===e.match.params.id})).name})).filter((function(e){return!0===e.isResolved}))}))))})),Le=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(D.a)(this,Object(x.a)(t).call(this,e))).handleClick=function(e){e.preventDefault();var t={name:a.state.name};a.props.dispatch(function(e,t,a){return function(n){P.put("/departments/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){console.log(e.data),a()}))}}(t,a.props.match.params.id,(function(){return a.props.history.push("/users/departments")})))},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.state={name:""},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({name:e.props.departments.name})}),700)}},{key:"render",value:function(){return console.log(this.props.departments,"this is customer"),r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"h4"},"Edit Department"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement(de.a,{type:"text",label:"Name",value:this.state.name,variant:"filled",name:"name",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"contained",onClick:this.handleClick},"Submit")))}}]),t}(n.Component),Fe=Object(R.b)((function(e,t){var a=t.match.params.id;return console.log(a),{departments:e.departments.find((function(e){return e._id===a}))}}))(Le);var Ve=Object(R.b)((function(e,t){var a=t.match.params.id;return console.log(e.departments,"departments"),console.log(a),{dep:e.departments.find((function(e){return e._id===a})),customers:e.customers,tickets:e.tickets,employees:e.employees,departments:e.departments}}))((function(e){console.log(e.name,"name");var t=r.a.useState(0),a=Object(Me.a)(t,2),n=a[0],l=a[1],o=0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length?e.tickets.map((function(t){return{_id:t._id,code:t.code,isResolved:t.isResolved,message:t.message,employees:t.employees.map((function(t){return e.employees.find((function(e){return e._id===t._id})).name})),department:e.departments.find((function(e){return e._id===t.department})).name,customer:e.customers.find((function(e){return e._id===t.customer})).name}})):"";return r.a.createElement("div",{align:"center"},r.a.createElement("h1",null,"Department : ",void 0!==e.dep&&e.dep.name),r.a.createElement(C.b,{to:"/departments/edit/".concat(e.match.params.id),style:{textDecoration:"none"}},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Edit")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(be.a,{square:!0},r.a.createElement(Pe.a,{onChange:function(e,t){l(t),console.log(n)},indicatorColor:"primary",textColor:"primary",value:n,centered:!0},r.a.createElement(Ie.a,{label:"All"}),r.a.createElement(Ie.a,{label:"Pending"}),r.a.createElement(Ie.a,{label:"Completed"}))),0===Number(n)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&r.a.createElement(Be,{tickets:o.filter((function(t){return t.department===e.departments.find((function(t){return t._id===e.match.params.id})).name}))}),1===Number(n)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&r.a.createElement(Be,{tickets:o.filter((function(t){return t.department===e.departments.find((function(t){return t._id===e.match.params.id})).name})).filter((function(e){return!0!==e.isResolved}))}),2===Number(n)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&r.a.createElement(Be,{tickets:o.filter((function(t){return t.department===e.departments.find((function(t){return t._id===e.match.params.id})).name})).filter((function(e){return!0===e.isResolved}))})))})),We=a(180),He=a(193),Ue=a(189),Ge=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(D.a)(this,Object(x.a)(t).call(this,e))).handleChangeDropDown=function(e){console.log(e.target.value),a.setState({department:e.target.value})},a.handleClick=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,mobile:a.state.mobile,department:a.state.department};console.log(t);a.props.dispatch(function(e,t){return function(a){P.post("/employees",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(n){console.log(n.data),a(xe(e)),t()}))}}(t,(function(){return a.props.history.push("/users/employees")})))},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.state={name:"",email:"",mobile:"",department:""},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return console.log(this.props.employees,"this is empl"),r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"h4"},"Add Employee data"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement(de.a,{type:"text",label:"Name",value:this.state.name,variant:"filled",name:"name",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",label:"Email",value:this.state.email,variant:"filled",name:"email",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",label:"Mobile",value:this.state.mobile,variant:"filled",name:"mobile",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(V.a,{style:{margin:1,minWidth:210}},r.a.createElement(W.a,{htmlFor:"grouped-select"},"Department"),r.a.createElement(Ue.a,{defaultValue:"",input:r.a.createElement(We.a,{id:"grouped-select",value:this.state.department}),onClick:this.handleChangeDropDown},this.props.departments.map((function(e){return r.a.createElement(He.a,{value:e._id,key:e._id},e.name)})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"contained",onClick:this.handleClick},"Submit")))}}]),t}(n.Component),Ke=Object(R.b)((function(e,t){var a=t.match.params.id;return console.log(a),{employees:e.employees.find((function(e){return String(e._id)===String(a)})),departments:e.departments}}))(Ge);var qe=Object(R.b)((function(e,t){var a=t.match.params.id;return{emp:e.employees.find((function(e){return e._id===a})),customers:e.customers,tickets:e.tickets,employees:e.employees,departments:e.departments}}))((function(e){var t=r.a.useState(0),a=Object(Me.a)(t,2),n=a[0],l=a[1],o=0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length?e.tickets.map((function(t){return{_id:t._id,code:t.code,isResolved:t.isResolved,message:t.message,employees:t.employees.map((function(t){return e.employees.find((function(e){return e._id===t._id})).name})),department:e.departments.find((function(e){return e._id===t.department})).name,customer:e.customers.find((function(e){return e._id===t.customer})).name}})):"";return console.log(o,"formData"),r.a.createElement("div",{align:"center"},r.a.createElement("div",null,r.a.createElement("h1",null,void 0!==e.emp&&e.emp.email),r.a.createElement(C.b,{to:"/users/employees/edit/".concat(e.match.params.id),style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"primary",variant:"contained"},"Edit")),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement(be.a,{square:!0},r.a.createElement(Pe.a,{onChange:function(e,t){l(t),console.log(n)},indicatorColor:"primary",textColor:"primary",value:n,centered:!0},r.a.createElement(Ie.a,{label:"All"}),r.a.createElement(Ie.a,{label:"Pending"}),r.a.createElement(Ie.a,{label:"Completed"}))),0===Number(n)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&r.a.createElement(Be,{tickets:o.filter((function(t){return t.employees.includes(e.emp.name)}))}),1===Number(n)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&r.a.createElement(Be,{tickets:o.filter((function(t){return t.employees.includes(e.emp.name)})).filter((function(e){return!0!==e.isResolved}))}),2===Number(n)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&o.filter((function(e){return!0===e.isResolved})).length>1&&r.a.createElement(Be,{tickets:o.filter((function(t){return t.employees.includes(e.emp.name)})).filter((function(e){return!0===e.isResolved}))})))})),Je=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(D.a)(this,Object(x.a)(t).call(this,e))).handleChangeDropDown=function(e){a.setState({department:e.target.value})},a.handleClick=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,mobile:a.state.mobile,department:a.state.department};a.props.dispatch(function(e,t,a){return function(n){P.put("/employees/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){console.log(e.data),a()}))}}(t,a.props.match.params.id,(function(){return a.props.history.push("/users/employees")})))},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.state={name:"",email:"",mobile:"",department:""},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({name:e.props.employees.name,email:e.props.employees.email,mobile:e.props.employees.mobile,department:e.props.employees.department._id})}),1e3)}},{key:"render",value:function(){return console.log(this.props.employees,"this is empl"),r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"h4"},"Edit Employee data"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement(de.a,{type:"text",label:"Name",value:this.state.name,variant:"filled",name:"name",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",label:"Email",value:this.state.email,variant:"filled",name:"email",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",label:"Mobile",value:this.state.mobile,variant:"filled",name:"mobile",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(V.a,{style:{margin:1,minWidth:210}},r.a.createElement(W.a,{htmlFor:"grouped-select"},"Grouping"),r.a.createElement(Ue.a,{defaultValue:"",input:r.a.createElement(We.a,{id:"grouped-select",value:this.state.department}),onClick:this.handleChangeDropDown},this.props.departments.map((function(e){return r.a.createElement(He.a,{value:e._id,key:e._id},e.name)})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"contained",onClick:this.handleClick},"Submit")))}}]),t}(n.Component),Xe=Object(R.b)((function(e,t){var a=t.match.params.id;return console.log(a),{employees:e.employees.find((function(e){return String(e._id)===String(a)})),departments:e.departments}}))(Je),ze=function(){return function(e){P.get("/tickets",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var a=t.data;e(Qe(a))}))}},Qe=function(e){return{type:"GET_TICKET",payload:e}},Ze=function(e){return function(t){P.delete("/tickets/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(a){console.log(a.data),a.data.hasOwnProperty("message")?t($e(e)):alert("failed to delete the record please check your internet connection")}))}},$e=function(e){return{type:"REMOVE_TICKET",payload:e}},et=function(e,t){return{type:"EDIT_TICKET",payload:{id:e,data:t}}},tt=function(e){return{type:"ADD_TICKET",payload:e}},at=function(e,t){return function(a){P.put("/tickets/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){console.log(e.data),a(nt(t))}))}},nt=function(e){return{type:"EDIT_TICKET_CHECKBOX",payload:e}},rt=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(D.a)(this,Object(x.a)(t).call(this))).handleSearch=function(t){console.log(t.target.value);var a=String(t.target.value);console.log(a),console.log(e.state.tickets,"tickse"),e.setState({message:t.target.value});var n=e.state.tickets.filter((function(e){return e.code.includes(t.target.value)}));n&&e.setState({tickets:n}),0===t.target.value.length&&e.setState({tickets:e.props.tickets})},e.handleCheckbox=function(t,a){var n=e.state.tickets.filter((function(e){return e._id!==a}));e.setState({tickets:n});var r={isResolved:t.target.checked};e.props.dispatch(at(r,a))},e.handleRemove=function(t){var a=e.state.tickets.filter((function(e){return e._id!==t}));e.setState({tickets:a}),A.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&(e.props.dispatch(Ze(t))&&window.location.reload(!1),A.a.fire("Deleted!","Your file has been deleted.","success"))}))},e.handleChange=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.state={tickets:[],message:""},e}return Object(T.a)(t,e),Object(S.a)(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout((function(){console.log(e.props.tickets,"comp tick"),e.setState({tickets:e.props.tickets})}),900)}},{key:"render",value:function(){var e=this;return console.log(this.state.tickets,"tickets"),r.a.createElement("div",{align:"center"},r.a.createElement("h1",null,"Tickets-",this.props.tickets.length),r.a.createElement(We.a,{placeholder:"Search",variant:"outlined",type:"search",onChange:this.handleSearch,value:this.state.message}),r.a.createElement("br",null),r.a.createElement(ge.a,{component:be.a},r.a.createElement(ae.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,null,r.a.createElement(re.a,null,"Code No"),r.a.createElement(re.a,null,"Customer"),r.a.createElement(re.a,{align:"left"},"Department"),r.a.createElement(re.a,{align:"left"},"Employees"),r.a.createElement(re.a,{align:"left"},"Message"),r.a.createElement(re.a,{align:"left"},"Priority"),r.a.createElement(re.a,{align:"left"},"Actions"),r.a.createElement(re.a,{align:"left"},"Remove"),r.a.createElement(re.a,{align:"left"},"Complete"))),r.a.createElement(ne.a,null,this.state.tickets.map((function(t,a){return r.a.createElement(oe.a,{key:t._id},r.a.createElement(re.a,{component:"th",scope:"row"},t.code),r.a.createElement(re.a,{align:"left"},0!==e.props.customers.length&&e.props.customers.find((function(e){return e._id===t.customer})).name),r.a.createElement(re.a,{align:"left"},0!==e.props.departments.length&&e.props.departments.find((function(e){return e._id===t.department})).name),r.a.createElement(re.a,{align:"left"},0!==e.props.employees.length&&t.employees.map((function(a,n){return r.a.createElement("p",{key:n},0!==e.props.employees.length&&e.props.employees.find((function(e){return e._id===t.employees[n]._id})).name)}))),r.a.createElement(re.a,{align:"left"},t.message),r.a.createElement(re.a,{align:"left"},t.priority),r.a.createElement(re.a,{align:"left"},r.a.createElement(C.b,{to:"/users/ticket/show/".concat(t._id),style:{textDecoration:"none"}},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Show"))),r.a.createElement(re.a,{align:"left"},r.a.createElement(L.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleRemove(t._id)}},"Remove")),r.a.createElement(re.a,{align:"left"},r.a.createElement("input",{type:"checkbox",checked:t.isResolved,onChange:function(a){return e.handleCheckbox(a,t._id)}})))}))))),r.a.createElement("br",null))}}]),t}(n.Component),lt=Object(R.b)((function(e){return{tickets:e.tickets.filter((function(e){return!e.isResolved})),customers:e.customers,employees:e.employees,departments:e.departments}}))(rt),ot=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(D.a)(this,Object(x.a)(t).call(this))).handleSearch=function(t){console.log(t.target.value);var a=String(t.target.value);console.log(a),console.log(e.state.tickets,"tickse"),e.setState({message:t.target.value});var n=e.state.tickets.filter((function(e){return e.code.includes(t.target.value)}));n&&e.setState({tickets:n}),0===t.target.value.length&&e.setState({tickets:e.props.tickets})},e.handleRemove=function(t){var a=e.state.tickets.filter((function(e){return e._id!==t}));e.setState({tickets:a}),A.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&(e.props.dispatch(Ze(t))&&window.location.reload(!1),A.a.fire("Deleted!","Your file has been deleted.","success"))}))},e.handleCheckbox=function(t,a){var n=e.state.tickets.filter((function(e){return e._id!==a}));e.setState({tickets:n});var r={isResolved:t.target.checked};e.props.dispatch(at(r,a))},e.handleChange=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.state={tickets:[],message:""},e}return Object(T.a)(t,e),Object(S.a)(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout((function(){console.log(e.props.tickets,"comp tick"),e.setState({tickets:e.props.tickets})}),900)}},{key:"render",value:function(){var e=this;return console.log(this.props.tickets,"tickets"),r.a.createElement("div",{align:"center"},0!==this.props.tickets.length?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("h1",null,"Tickets-",this.props.tickets.length),r.a.createElement(We.a,{placeholder:"Search",variant:"outlined",type:"search",onChange:this.handleSearch,value:this.state.message}),r.a.createElement("br",null),r.a.createElement(ge.a,{component:be.a},r.a.createElement(ae.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,null,r.a.createElement(re.a,null,"Code No"),r.a.createElement(re.a,null,"Customer"),r.a.createElement(re.a,{align:"left"},"Department"),r.a.createElement(re.a,{align:"left"},"Employees"),r.a.createElement(re.a,{align:"left"},"Message"),r.a.createElement(re.a,{align:"left"},"Priority"),r.a.createElement(re.a,{align:"left"},"Actions"),r.a.createElement(re.a,{align:"left"},"Remove"),r.a.createElement(re.a,{align:"left"},"Complete"))),r.a.createElement(ne.a,null,this.state.tickets.map((function(t,a){return r.a.createElement(oe.a,{key:t._id},r.a.createElement(re.a,{component:"th",scope:"row"},t.code),r.a.createElement(re.a,{align:"left"},0!==e.props.customers.length&&e.props.customers.find((function(e){return e._id===t.customer})).name),r.a.createElement(re.a,{align:"left"},0!==e.props.departments.length&&e.props.departments.find((function(e){return e._id===t.department})).name),r.a.createElement(re.a,{align:"left"},0!==e.props.employees.length&&t.employees.map((function(a,n){return r.a.createElement("p",{key:n},0!==e.props.employees.length&&e.props.employees.find((function(e){return e._id===t.employees[n]._id})).name)}))),r.a.createElement(re.a,{align:"left"},t.message),r.a.createElement(re.a,{align:"left"},t.priority),r.a.createElement(re.a,{align:"left"},r.a.createElement(C.b,{to:"/users/ticket/show/".concat(t._id),style:{textDecoration:"none"}},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Show"))),r.a.createElement(re.a,{align:"left"},r.a.createElement(L.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleRemove(t._id)}},"Remove")),r.a.createElement(re.a,{align:"left"},r.a.createElement("input",{type:"checkbox",checked:t.isResolved,onChange:function(a){return e.handleCheckbox(a,t._id)}})))}))))),r.a.createElement("br",null)):r.a.createElement("h2",null,"No Tickets are complete to be displayed"))}}]),t}(n.Component),ct=Object(R.b)((function(e){return{tickets:e.tickets.filter((function(e){return e.isResolved})),customers:e.customers,employees:e.employees,departments:e.departments}}))(ot),it=a(71),st=a.n(it),mt=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(D.a)(this,Object(x.a)(t).call(this,e))).state={pie:{series:[0,0,0],options:{chart:{width:380,type:"pie"},labels:["High","Medium","Low"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}},options:{chart:{id:"basic-bar"},xaxis:{categories:["HR","ACCOUNT"]}},series:[{name:"series-1",data:[10,20,30,40,50]}]},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.setState({options:{colors:["#550a8a","#6d00c1","8510d8"],chart:{id:"basic-bar"},xaxis:{categories:e.props.departments.map((function(e){return e.name}))}},series:[{name:"series-1",data:e.props.departments.map((function(t){return e.props.tickets.filter((function(e){return e.department===t._id})).length}))}],pie:{series:[e.props.tickets.filter((function(e){return"High"===e.priority})).length,e.props.tickets.filter((function(e){return"Medium"===e.priority})).length,e.props.tickets.filter((function(e){return"Low"===e.priority})).length],options:{chart:{width:380,type:"donut"},plotOptions:{value:{show:!1,fontSize:"36px",fontFamily:"Helvetica, Arial, sans-serif",color:void 0,offsetY:10,formatter:function(e){return e}}},labels:["HIGH","MEDIUM","LOW"],responsive:[{breakpoint:480,options:{chart:{width:300},legend:{position:"bottom"}}}]}}})}),1e3)}},{key:"render",value:function(){return console.log(this.props.departments.map((function(e){return e.name})),"departments"),r.a.createElement("div",{className:"app",align:"center"},r.a.createElement("h1",null,"Priority of tasks"),r.a.createElement(st.a,{options:this.state.pie.options,series:this.state.pie.series,type:"donut",width:380}),r.a.createElement("h1",null,"Tickets based on Departments"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mixed-chart"},r.a.createElement(st.a,{options:this.state.options,series:this.state.series,type:"bar",width:"500"}))),r.a.createElement("br",null))}}]),t}(n.Component),ut=Object(R.b)((function(e){return{customers:e.customers,tickets:e.tickets,employees:e.employees,departments:e.departments}}))(mt),dt=a(4),pt=a(9),ht=a(185),Et=Object(dt.a)({root:{height:20,backgroundColor:Object(pt.e)("#8510d8",.5),borderRadius:20},bar:{borderRadius:20,backgroundColor:"#550a8a"}})(ht.a),ft=Object($.a)((function(e){return{root:{flexGrow:1},margin:{margin:e.spacing(0)}}}));var gt=Object(R.b)((function(e){return{tickets:e.tickets}}))((function(e){var t=r.a.useState(0),a=Object(Me.a)(t,2),n=a[0],l=a[1];e.dispatch(ze());var o=ft();return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(C.b,{to:"/users/ticket/new",style:{textDecoration:"none"}},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Add Ticket")),r.a.createElement(be.a,{square:!0},r.a.createElement(Pe.a,{onChange:function(e,t){l(t),console.log(n)},indicatorColor:"primary",textColor:"primary",value:n,centered:!0},r.a.createElement(Ie.a,{label:"Pending"}),r.a.createElement(Ie.a,{label:"Completed"}))),0===n&&r.a.createElement(lt,null),1===n&&r.a.createElement(ct,null),r.a.createElement("h1",{align:"center"},(e.tickets.filter((function(e){return e.isResolved})).length/e.tickets.length*100).toFixed(2),"%"),r.a.createElement("div",{style:{height:20,backgroundColor:"#8510d8",borderRadius:20}},r.a.createElement("div",{className:o.root},r.a.createElement(Et,{className:o.margin,variant:"determinate",color:"secondary",value:e.tickets.filter((function(e){return e.isResolved})).length/e.tickets.length*100}))),r.a.createElement(ut,null))})),bt=a(194),vt={PaperProps:{style:{maxHeight:224,width:250}}},yt=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(D.a)(this,Object(x.a)(t).call(this,e))).handleChangeDropDown=function(e){console.log(e.target.value,"prop"),a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleClick=function(e){e.preventDefault();var t={code:a.state.code,customer:a.state.customer,department:a.state.department,employees:a.state.selected.map((function(e){return{_id:e}})),isResolved:!1,priority:a.state.priority,message:a.state.message};console.log(t);a.props.dispatch(function(e,t){return function(a){P.post("/tickets",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(n){console.log(n.data),a(tt(e)),t()}))}}(t,(function(){return a.props.history.push("/users/tickets")})))},a.handleChange=function(e){var t,n=a.state.employees.map((function(e){return a.props.employees.find((function(t){return e===t.name}))._id}));a.setState((t={},Object(j.a)(t,e.target.name,e.target.value),Object(j.a)(t,"selected",n),t))},a.handleChangeChip=function(e){console.log(e.target.value),a.setState(Object(j.a)({},e.target.name,e.target.value))},a.state={code:"",customer:"",department:"",employees:[],priority:"",message:"",selected:[]},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.selected,"this is empl"),r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"h4"},"Add Ticket"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement(de.a,{type:"text",label:"Code",value:this.state.code,name:"code",onChange:this.handleChange,style:{width:410}}),r.a.createElement("br",null),r.a.createElement(V.a,{style:{margin:1,minWidth:410}},r.a.createElement(W.a,{htmlFor:"grouped-select"},"Customer"),r.a.createElement(Ue.a,{defaultValue:"",name:"customer",input:r.a.createElement(We.a,{id:"grouped-select",value:this.state.customer}),onClick:this.handleChangeDropDown},this.props.customers.map((function(e){return r.a.createElement(He.a,{value:e._id,key:e._id},e.name)})))),r.a.createElement("br",null),r.a.createElement(V.a,{style:{margin:1,minWidth:410}},r.a.createElement(W.a,{htmlFor:"grouped-select"},"Department"),r.a.createElement(Ue.a,{defaultValue:"",name:"department",input:r.a.createElement(We.a,{id:"grouped-select",value:this.state.department}),onClick:this.handleChangeDropDown},this.props.departments.map((function(e){return r.a.createElement(He.a,{value:e._id,key:e._id},e.name)})))),r.a.createElement("br",null),r.a.createElement(V.a,{style:{minWidth:410,maxWidth:1e3}},r.a.createElement(W.a,{id:"demo-mutiple-chip-label"},"Chip"),r.a.createElement(Ue.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,name:"employees",onChange:this.handleChangeChip,input:r.a.createElement(We.a,{id:"select-multiple-chip",value:0!==this.state.employees.length?this.state.employees:[]}),renderValue:function(e){return r.a.createElement("div",null,e.map((function(e){return r.a.createElement(bt.a,{key:e,label:e,style:{margin:2}})})))},MenuProps:vt},this.props.employees.filter((function(t){return t.department._id===e.state.department})).map((function(e){return r.a.createElement(He.a,{key:e._id,value:e.name},e.name)})))),r.a.createElement("br",null),r.a.createElement(V.a,{style:{margin:1,minWidth:410}},r.a.createElement(W.a,{htmlFor:"grouped-select"},"Priority"),r.a.createElement(Ue.a,{defaultValue:"",name:"priority",input:r.a.createElement(We.a,{id:"grouped-select"}),onClick:this.handleChangeDropDown},r.a.createElement(He.a,{value:"High"},"High"),r.a.createElement(He.a,{value:"Medium"},"Medium"),r.a.createElement(He.a,{value:"Low"},"Low"))),r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",label:"Message",value:this.state.message,name:"message",onChange:this.handleChange,style:{width:410}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"contained",onClick:this.handleClick},"Submit")))}}]),t}(n.Component),kt=Object(R.b)((function(e){return{employees:e.employees,departments:e.departments,customers:e.customers}}))(yt),Ct={PaperProps:{style:{maxHeight:224,width:250}}},wt=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(D.a)(this,Object(x.a)(t).call(this,e))).handleChangeDropDown=function(e){console.log(e.target.value,"prop"),a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleClick=function(e){e.preventDefault();var t={code:a.state.code,customer:a.state.customer,department:a.state.department,employees:a.state.selected.map((function(e){return{_id:e}})),isResolved:!1,priority:a.state.priority,message:a.state.message};console.log(t);a.props.dispatch(function(e,t,a){return function(n){P.put("/tickets/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(r){console.log(r.data),n(et(t,e)),a()}))}}(t,a.props.match.params.id,(function(){return a.props.history.push("/users/tickets")})))},a.handleChange=function(e){var t;console.log(a.state.selected,"selected");var n=a.state.employees.map((function(e){return a.props.employees.find((function(t){return e===t.name}))._id}));a.setState((t={},Object(j.a)(t,e.target.name,e.target.value),Object(j.a)(t,"selected",n),t))},a.handleChangeChip=function(e){console.log(e.target.value),a.setState(Object(j.a)({},e.target.name,e.target.value))},a.state={code:"",customer:"",department:"",employees:[],priority:"",message:"",selected:[]},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({code:e.props.tickets.code,customer:e.props.tickets.customer,department:e.props.tickets.department,employees:e.props.tickets.employees.map((function(t){return e.props.employees.find((function(e){return e._id===t._id})).name})),priority:e.props.tickets.priority,message:e.props.tickets.message})}),2e3)}},{key:"render",value:function(){var e=this;return console.log(this.state.selected,"this is empl"),r.a.createElement("div",{align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"h4"},"Add Ticket"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement(de.a,{type:"text",label:"Code",value:this.state.code,name:"code",onChange:this.handleChange,style:{width:410}}),r.a.createElement("br",null),r.a.createElement(V.a,{style:{margin:1,minWidth:410}},r.a.createElement(W.a,{htmlFor:"grouped-select"},"Customer"),r.a.createElement(Ue.a,{defaultValue:"",name:"customer",input:r.a.createElement(We.a,{id:"grouped-select",value:this.state.customer}),onClick:this.handleChangeDropDown},this.props.customers.map((function(e){return r.a.createElement(He.a,{value:e._id,key:e._id},e.name)})))),r.a.createElement("br",null),r.a.createElement(V.a,{style:{margin:1,minWidth:410}},r.a.createElement(W.a,{htmlFor:"grouped-select"},"Department"),r.a.createElement(Ue.a,{defaultValue:"",name:"department",input:r.a.createElement(We.a,{id:"grouped-select",value:this.state.department}),onClick:this.handleChangeDropDown},this.props.departments.map((function(e){return r.a.createElement(He.a,{value:e._id,key:e._id},e.name)})))),r.a.createElement("br",null),r.a.createElement(V.a,{style:{minWidth:410,maxWidth:1e3}},r.a.createElement(W.a,{id:"demo-mutiple-chip-label"},"Chip"),r.a.createElement(Ue.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,name:"employees",onChange:this.handleChangeChip,input:r.a.createElement(We.a,{id:"select-multiple-chip",value:0!==this.state.employees.length?this.state.employees:[]}),renderValue:function(e){return r.a.createElement("div",null,e.map((function(e){return r.a.createElement(bt.a,{key:e,label:e,style:{margin:2}})})))},MenuProps:Ct},this.props.employees.filter((function(t){return t.department._id===e.state.department})).map((function(e){return r.a.createElement(He.a,{key:e._id,value:e.name},e.name)})))),r.a.createElement("br",null),r.a.createElement(V.a,{style:{margin:1,minWidth:410}},r.a.createElement(W.a,{htmlFor:"grouped-select"},"Priority"),r.a.createElement(Ue.a,{defaultValue:"",name:"priority",value:this.state.priority,input:r.a.createElement(We.a,{id:"grouped-select"}),onClick:this.handleChangeDropDown},r.a.createElement(He.a,{value:"High"},"High"),r.a.createElement(He.a,{value:"Medium"},"Medium"),r.a.createElement(He.a,{value:"Low"},"Low"))),r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",label:"Message",value:this.state.message,name:"message",onChange:this.handleChange,style:{width:410}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"contained",onClick:this.handleClick},"Submit")))}}]),t}(n.Component),Ot=Object(R.b)((function(e,t){return{tickets:e.tickets.find((function(e){return e._id===t.match.params.id})),employees:e.employees,departments:e.departments,customers:e.customers}}))(wt);var jt=Object(R.b)((function(e){return{tickets:e.tickets,employees:e.employees,customers:e.customers,departments:e.departments}}))((function(e){console.log(e.tickets);var t=0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length?e.tickets.map((function(t){return{_id:t._id,code:t.code,isResolved:t.isResolved,message:t.message,employees:t.employees.map((function(t){return e.employees.find((function(e){return e._id===t._id})).name})),department:e.departments.find((function(e){return e._id===t.department})).name,customer:e.customers.find((function(e){return e._id===t.customer})).name}})):"";return r.a.createElement("div",{align:"center"},0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&r.a.createElement(Be,{tickets:t.filter((function(t){return t._id===e.match.params.id}))}),r.a.createElement(C.b,{to:"/users/ticket/edit/".concat(e.match.params.id)},"Edit"))})),_t=Object($.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var St=Object(R.b)((function(e){return{users:e.users}}))((function(e){var t=_t();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{align:"sticky"},r.a.createElement(C.a,null,r.a.createElement(ee.a,{position:"static",color:"inherit"},r.a.createElement(te.a,null,r.a.createElement(Y.a,{variant:"h4",className:t.title,align:"left"},"Ticket Master"),0===Object.keys(e.users).length?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"default"},r.a.createElement("span",null,"Home"))),r.a.createElement(C.b,{to:"/users/login",style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"default"},r.a.createElement("span",null,"Login"))),r.a.createElement(C.b,{to:"/users/register",style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"default"},r.a.createElement("span",null,"Register")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(C.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"default"},r.a.createElement("span",null,"Home"))),r.a.createElement(C.b,{to:"/users/customers",style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"default"},r.a.createElement("span",null,"Customers"))),r.a.createElement(C.b,{to:"/users/departments",style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"default"},r.a.createElement("span",null,"Departments"))),r.a.createElement(C.b,{to:"/users/employees",style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"default"},r.a.createElement("span",null,"Employees"))),r.a.createElement(C.b,{to:"/users/tickets",style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"default"},r.a.createElement("span",null,"Tickets"))),r.a.createElement(C.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(L.a,{color:"default",onClick:function(t){A.a.fire({title:"Are you sure you want to Logout ?",text:"You will have to log in again",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Log out!"}).then((function(t){t.value&&(e.dispatch((function(e){P.delete("/users/logout",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){t.data.notice&&(localStorage.removeItem("authToken"),e(N()),window.location.href="/users/login")}))}))&&window.location.reload(!1),A.a.fire("Logged Out!","Your have successfully logged out","success"))}))}},r.a.createElement("span",null,"Logout")))))),r.a.createElement(w.a,{path:"/",component:O,exact:!0}),r.a.createElement(w.a,{path:"/users/login",component:z,exact:!0}),r.a.createElement(w.a,{path:"/users/register",component:Z,exact:!0}),r.a.createElement(w.a,{path:"/users/customers",component:ue,exact:!0}),r.a.createElement(w.a,{path:"/users/customers/new",component:he,exact:!0}),r.a.createElement(w.a,{path:"/users/customers/show/:id",component:Ye}),r.a.createElement(w.a,{path:"/users/customers/edit/:id",component:fe}),r.a.createElement(w.a,{path:"/users/departments/:id",component:Ve}),r.a.createElement(w.a,{path:"/users/departments",component:Oe,exact:!0}),r.a.createElement(w.a,{path:"/departments/edit/:id",component:Fe,exact:!0}),r.a.createElement(w.a,{path:"/users/employees",component:Re,exact:!0}),r.a.createElement(w.a,{path:"/users/employees/new",component:Ke,exact:!0}),r.a.createElement(w.a,{path:"/users/employees/show/:id",component:qe,exact:!0}),r.a.createElement(w.a,{path:"/users/employees/edit/:id",component:Xe,exact:!0}),r.a.createElement(w.a,{path:"/users/tickets",component:gt,exact:!0}),r.a.createElement(w.a,{path:"/users/ticket/new",component:kt,exact:!0}),r.a.createElement(w.a,{path:"/users/ticket/edit/:id",component:Ot,exact:!0}),r.a.createElement(w.a,{path:"/users/ticket/show/:id",component:jt,exact:!0}))),r.a.createElement("br",null))})),Dt=k();Dt.subscribe((function(){console.log(Dt.getState())})),console.log(localStorage.getItem("authToken"),"Token"),localStorage.getItem("authToken")&&(Dt.dispatch((function(e){P.get("/users/account",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var a=t.data;e(B(a))}))})),Dt.dispatch(ce()),Dt.dispatch(ve()),Dt.dispatch(je()),Dt.dispatch(ze()));var xt=r.a.createElement(R.a,{store:Dt},r.a.createElement(St,null));o.a.render(xt,document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.327bc22f.chunk.js.map